#+TITLE:     Pony Shoe
#+AUTHOR:    damon-kwok
#+EMAIL:     damon-kwok@outlook.com
#+DATE:      2020-04-25
#+OPTIONS: toc:nil creator:nil author:nil email:nil timestamp:nil html-postamble:nil
#+TODO: TODO DOING DONE

*** My little wish
#+BEGIN_SRC pony
let list = {1, 2, 5, 6, 7}            // List Literals
let arr  = 1..5 // [1; 2; 3; 4; 5;]   // Array `range` Sugar
let set  = <1, 2, 2, 3, 4, 4, 5>      // Set Literals : auto uniq: <1, 2, 3, 4, 5>
let map  = <"a":1, "b":2, "c":3>      // Map Literals

#+END_SRC

*** Some examples
#+BEGIN_SRC pony

Seqs.each(["some"; "example"], {(x: B) => env.out.print(x)})
"some"
"example"

Seqs.map([1; 2; 3], {(x: U32): U32 => x * 2})
[2; 4; 6]

Seqs.sort([2; 3; 1])
[1; 2; 3]

Seqs.sum([1; 2; 3])
6

Seqs.reverse([1; 2; 3])
[3; 2; 1]

Seqs.chunk_by([1; 2; 2; 3; 4; 4; 6; 7; 7], {(x: U32): Bool => x%%2==1 })
[[1]; [2; 2]; [3]; [4; 4; 6]; [7; 7]]

Seqs.chunk_every([1; 2; 3; 4; 5; 6], 2)
[[1; 2]; [3; 4]; [5; 6]]

Seqs.split([1, 2, 3], 2)
[[1; 2]; [3]]

Seqs.take([1; 2; 3], 2)
[1; 2]

Seqs.take_random(Num.range_i(1, 10), 2)
[7; 2]

Seqs.concat([[1; 2; 3]; [4; 5; 6]; [7; 8; 9])
[1; 2; 3; 4; 5; 6; 7; 8; 9]

Seqs.dedup([1; 2; 3; 3; 2; 1])
[1; 2; 3; 2; 1]

Seqs.dedup_by([(1, "a"), (2, "b"), (2, "c"), (1, "a")], {(x: B): Any => x._1})
[(1, "a"), (2, "b"), (1, "a")]

Seqs.drop([1; 2; 3], 2)
[3]

Seqs.drop([1; 2; 3], -1)
[1; 2]

Seqs.filter([1; 2; 3], {(x: B): Bool => x %% 2 == 0})
[2]

Seqs.flat_map(['a', 'b', 'c'], {(x: U8): Array[Any] => [x; x]})
['a', 'a', 'b', 'b', 'c', 'c']

Seqs.intersperse([1; 2; 3], 0)
[1; 0; 2; 0; 3]

Seqs[Array[String], String].with_index(["a"; "b"; "c"])
[("a", 0); ("b", 1); ("c", 2)]

Seqs.join([1; 2; 3])
"123"

Seqs.join([1; 2; 3], " = ")
"1 = 2 = 3"

//See also: `map_join`
Seqs.map_join([1; 2; 3], "", {(x: U32): U32 => x * 2})
"246"

Seqs.map_join([1; 2; 3], " = ", {(x: U32): U32 => x * 2})
"2 = 4 = 6"

Seqs.reduce([1; 2; 3], 0, {(x: U32, acc: U32):U32 => x + acc})
6

map_reduce([1; 2; 3], 0, {(x: U32, acc: U32): U32 => (x * 2, x + acc)} end)
([2; 4; 6], 6)

Seqs.reject([1; 2; 3], {(x:U32): U32 => x%%2 == 0})
[1; 3]

Seqs.scan([1; 2; 3; 4; 5], {(x: U32, y: U32): U32 => x+y })
[1; 3; 6; 10; 15]

Seqs.slice([0; 1; 2; 3; 4; 5; 6; 7; 8; 9], 5, 20)
[5; 6; 7; 8; 9; 10]

Seqs.slice([0; 1; 2; 3; 4; 5; 6; 7; 8; 9], -3, 2)
[7; 8]

Seqs[Array[String], String].sort_by(["some"; "kind"; "of"; "monster"],
                 {(a: String, b: String): Bool => a.size() > b.size()})
["of"; "some"; "kind"; "monster"]

Seqs.rotation([1; 2; 3; 4; 5; 6; 7], 1)
[7; 1; 2; 3; 4; 5; 6]

Seqs.rotation({1, 2, 3, 4, 5, 6, 7}, 2)
{6, 7, 1, 2, 3, 4, 5}

Seqs.to_list([1; 2; 3])
{1, 2, 3}

Seqs.to_array({1, 2, 3})
[1; 2; 3]

Seqs.uniq([1, 5, 3, 3, 2, 3, 1, 5, 4])
[1, 5, 3, 2, 4]
#+END_SRC
